<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>PT åœ‹è€ƒå…¨æ”»ç•¥ (Clinical Pro)</title>
<style>
:root{
  --bg: #f8fafc; --sidebar-bg: #1e293b; --sidebar-text: #e2e8f0;
  --card: #ffffff; --text: #334155; --border: #e2e8f0;
  
  /* Subject Colors */
  --ortho: #2563eb;     /* éª¨ç§‘è— */
  --neuro: #7c3aed;     /* ç¥ç¶“ç´« */
  --cardio: #dc2626;    /* å¿ƒè‚ºç´… */
  --peds: #ea580c;      /* å°å…’æ©˜ */
  --modality: #059669;  /* å„€å™¨ç¶  */
  --assistive: #db2777; /* è¼”å…·ç²‰ */
  --biomech: #4b5563;   /* åŠ›å­¸ç° */
  
  --radius: 12px; --header-h: 60px; --sidebar-w: 260px;
}

*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Microsoft JhengHei",sans-serif;margin:0;background:var(--bg);color:var(--text);height:100vh;overflow:hidden;}

/* --- Layout --- */
.app-container{display:flex; height:100vh;}
.main{flex:1; display:flex; flex-direction:column; background:var(--bg); overflow:hidden; position:relative;}
.header-bar{height:var(--header-h); background:#fff; display:flex; align-items:center; padding:0 16px; border-bottom:1px solid #eee; position:sticky; top:0; z-index:30; justify-content:space-between;}
.content-area{flex:1; overflow-y:auto; padding:20px; scroll-behavior:smooth;}

/* --- Sidebar --- */
.sidebar{width:var(--sidebar-w); background:var(--sidebar-bg); color:var(--sidebar-text); display:flex; flex-direction:column; flex-shrink:0; transition:transform 0.3s ease; z-index:50;}
.sidebar-header{padding:20px; border-bottom:1px solid rgba(255,255,255,0.1); font-weight:800; font-size:18px; color:#fff;}
.nav-scroll{overflow-y:auto; flex:1; padding:10px 0;}
.nav-item{padding:12px 20px; cursor:pointer; font-size:14px; display:flex; align-items:center; gap:10px; transition:0.2s; border-left:3px solid transparent; color:rgba(255,255,255,0.7);}
.nav-item:hover{background:rgba(255,255,255,0.05); color:#fff;}
.nav-section{font-size:11px; font-weight:700; color:rgba(255,255,255,0.4); padding:15px 20px 5px; text-transform:uppercase;}

/* --- Mobile Toggle --- */
.menu-overlay{position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); z-index:40; display:none;}
.menu-btn{cursor:pointer; font-size:24px; padding:5px; display:none;}

/* --- Views: Dashboard --- */
.home-container{max-width:900px; margin:0 auto; width:100%; animation:fadeIn 0.3s ease;}
.grid-main{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:30px;}
.grid-sub{display:grid; grid-template-columns:repeat(auto-fill, minmax(140px, 1fr)); gap:12px;}

.subject-card{background:#fff; border-radius:var(--radius); padding:20px; cursor:pointer; border:1px solid var(--border); transition:0.2s; display:flex; flex-direction:column; align-items:center; text-align:center; box-shadow:0 4px 6px -1px rgba(0,0,0,0.05);}
.subject-card:hover{transform:translateY(-4px); box-shadow:0 10px 15px -3px rgba(0,0,0,0.1);}
.icon-box{width:45px; height:45px; border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:22px; margin-bottom:10px; color:#fff;}

/* --- Views: Category & Detail --- */
.cat-header{display:flex; align-items:center; gap:10px; margin-bottom:20px;}
.back-btn{padding:6px 14px; border-radius:20px; border:1px solid #ccc; background:#fff; cursor:pointer; font-size:13px;}
.topic-grid{display:grid; grid-template-columns:1fr; gap:12px; animation:fadeIn 0.3s ease;}
.topic-btn{background:#fff; padding:16px; border-radius:8px; border:1px solid var(--border); cursor:pointer; display:flex; justify-content:space-between; align-items:center; transition:0.2s; box-shadow:0 2px 4px rgba(0,0,0,0.02);}
.topic-btn:hover{border-color:var(--text); background:#f8fafc;}

.detail-view{max-width:900px; margin:0 auto; background:#fff; padding:30px; border-radius:var(--radius); border:1px solid var(--border); animation:slideUp 0.3s ease;}
.detail-title{font-size:26px; font-weight:800; margin-bottom:10px; color:var(--text);}
.badge{padding:3px 8px; border-radius:4px; font-size:12px; font-weight:700; color:#fff; display:inline-block; margin-right:4px;}

/* --- Content Styling --- */
.section-title{font-size:18px; font-weight:700; margin:24px 0 12px 0; border-bottom:2px solid #f1f5f9; padding-bottom:8px; color:var(--text);}
table{width:100%; border-collapse:collapse; margin-bottom:15px; font-size:15px;}
th{background:#f8fafc; padding:10px; text-align:left; color:#475569; border-bottom:2px solid #e2e8f0;}
td{border-bottom:1px solid #f1f5f9; padding:10px;}
.red-flag{background:#fef2f2; border-left:4px solid #ef4444; padding:12px; margin:15px 0; color:#991b1b; font-size:14px; border-radius:0 4px 4px 0;}
.exam-tip{background:#fffbeb; border-left:4px solid #f59e0b; padding:12px; margin:15px 0; color:#92400e; font-size:14px; border-radius:0 4px 4px 0;}
.concept-box{background:#eff6ff; border:1px solid #dbeafe; padding:12px; border-radius:6px; margin:15px 0; color:#1e3a8a; font-size:14px;}
ul, ol{padding-left:20px; line-height:1.7;}

/* --- NEW: Treatment Grid Styling --- */
.tx-grid {display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 15px; margin-top: 15px;}
.tx-box {background: #f8fafc; border: 1px solid #e2e8f0; border-radius: 8px; padding: 15px; font-size: 14px;}
.tx-title {font-weight: 800; margin-bottom: 10px; display: block; font-size: 13px; color: #64748b; text-transform: uppercase; letter-spacing: 1px;}
.method-box {background: #fffbeb; border-left: 4px solid #f59e0b; padding: 15px; margin-bottom: 15px; font-size: 15px; line-height: 1.6; border-radius: 4px;}

/* Mobile Responsive */
@media(max-width:900px){
  .sidebar{position:fixed; left:-100%; height:100%; box-shadow:4px 0 20px rgba(0,0,0,0.2);}
  .sidebar.open{left:0;}
  .menu-overlay.open{display:block;}
  .menu-btn{display:block;}
  .grid-main{grid-template-columns:1fr;}
  .topic-grid{grid-template-columns:1fr;}
  .detail-view{padding:20px; border:none;}
  .tx-grid{grid-template-columns: 1fr;} /* Stack tx boxes on mobile */
}
@media(min-width:901px){.topic-grid{grid-template-columns:1fr 1fr;}}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}
</style>
</head>
<body>

<div class="menu-overlay" onclick="closeSidebar()"></div>

<div class="app-container">
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">PT åœ‹è€ƒè³‡æ–™åº«</div>
    <div class="nav-scroll">
      <div class="nav-item" onclick="renderHome()">ğŸ  å›é¦–é  (Home)</div>
      <div class="nav-section">å››å¤§ä¸»ç§‘</div>
      <div class="nav-item" onclick="renderCategory('ortho')"><span style="color:var(--ortho)">ğŸ¦´</span> éª¨ç§‘ (Orthopedics)</div>
      <div class="nav-item" onclick="renderCategory('neuro')"><span style="color:var(--neuro)">ğŸ§ </span> ç¥ç¶“ (Neurology)</div>
      <div class="nav-item" onclick="renderCategory('cardio')"><span style="color:var(--cardio)">ğŸ«€</span> å¿ƒè‚º (Cardiopulmonary)</div>
      <div class="nav-item" onclick="renderCategory('peds')"><span style="color:var(--peds)">ğŸ‘¶</span> å°å…’ (Pediatrics)</div>
      <div class="nav-section">é€²éšç§‘ç›®</div>
      <div class="nav-item" onclick="renderCategory('modality')"><span style="color:var(--modality)">âš¡</span> å„€å™¨ (Modalities)</div>
      <div class="nav-item" onclick="renderCategory('assistive')"><span style="color:var(--assistive)">ğŸ¦½</span> è¼”å…· (Assistive)</div>
      <div class="nav-item" onclick="renderCategory('biomech')"><span style="color:var(--biomech)">ğŸš¶</span> åŠ›å­¸ (Biomech)</div>
    </div>
  </aside>

  <main class="main">
    <div class="header-bar">
      <div style="display:flex; align-items:center; gap:10px;">
        <div class="menu-btn" onclick="toggleSidebar()">â˜°</div>
        <div style="font-weight:700; color:var(--text);">PT Clinical Pro</div>
      </div>
    </div>
    <div class="content-area" id="mainContent"></div>
  </main>
</div>

<script>
// ============================================
//   è³‡æ–™åº«å…§å®¹ (The Full Database)
// ============================================
const database = [
  // --- éª¨ç§‘: Magee è©•ä¼°å­¸ ---
  {
    id: 'magee-capsular-full', cat: 'ortho', title: 'Magee: é—œç¯€å—é™èˆ‡çµ‚ç«¯æ„Ÿè¦º', tags: ['Capsular', 'End-feel'],
    content: `
      <div class="exam-tip"><b>Capsular Pattern:</b> é—œç¯€å›Šç™¼ç‚æ™‚ç‰¹å®šçš„å—é™æ¯”ä¾‹ (Cyriax)ã€‚</div>
      <div class="section-title">1. ä¸Šè‚¢å—é™æ¨¡å¼ (ç”±é‡åˆ°è¼•)</div>
      <table><tr><th>é—œç¯€</th><th>å—é™é †åº</th></tr><tr><td><b>è‚© (Glenohumeral)</b></td><td>ER > Abd > IR</td></tr><tr><td>è‚˜ (Humeroulnar)</td><td>Flex > Ext</td></tr><tr><td>å‰è‡‚ (Radiohumeral)</td><td>Flex > Ext > Sup > Pro</td></tr><tr><td>æ‰‹è…• (Radiocarpal)</td><td>Flex = Ext</td></tr></table>
      <div class="section-title">2. ä¸‹è‚¢å—é™æ¨¡å¼</div>
      <table><tr><th>é—œç¯€</th><th>å—é™é †åº</th></tr><tr><td><b>é«– (Hip)</b></td><td>Flex > Abd > IR (æˆ– IR>Ext>Abd)</td></tr><tr><td><b>è† (Knee)</b></td><td>Flex > Ext</td></tr><tr><td><b>è¸ (Talocrural)</b></td><td>PF > DF (è¹ å±ˆ > èƒŒå±ˆ)</td></tr><tr><td>å¤§æ‹‡è¶¾ (MTP 1st)</td><td>Ext > Flex</td></tr></table>
      <div class="section-title">3. çµ‚ç«¯æ„Ÿè¦º (End-Feels)</div>
      <ul><li><b>Hard:</b> éª¨ç¢°éª¨ (è‚˜ä¼¸ç›´)ã€‚</li><li><b>Firm:</b> çµ„ç¹”å¼µåŠ› (è‚©å¤–è½‰)ã€‚</li><li><b>Springy:</b> å›å½ˆ (åŠæœˆæ¿)ã€‚</li><li><b>Empty:</b> ç—›åˆ°ä¸æ•¢å‹•ã€‚</li></ul>
    `
  },
  {
    id: 'magee-neuro-exam', cat: 'ortho', title: 'Magee: ç¥ç¶“å­¸æª¢æŸ¥ (Dermatome)', tags: ['Neuro', 'Myotome'],
    content: `
      <div class="section-title">ä¸Šè‚¢é—œéµç¯€æ•¸</div>
      <table><tr><th>ç¯€æ•¸</th><th>æ„Ÿè¦º (Sensory)</th><th>è‚Œè‚‰ (Motor)</th><th>åå°„</th></tr><tr><td>C5</td><td>ä¸Šè‡‚å¤–å´</td><td>Deltoid</td><td>Biceps</td></tr><tr><td>C6</td><td>å¤§æ‹‡æŒ‡</td><td>Wrist Ext</td><td>Brachioradialis</td></tr><tr><td>C7</td><td>ä¸­æŒ‡</td><td>Triceps</td><td>Triceps</td></tr><tr><td>C8</td><td>å°æŒ‡</td><td>Finger Flex</td><td>-</td></tr></table>
      <div class="section-title">ä¸‹è‚¢é—œéµç¯€æ•¸</div>
      <table><tr><th>ç¯€æ•¸</th><th>æ„Ÿè¦º</th><th>è‚Œè‚‰</th><th>åå°„</th></tr><tr><td>L4</td><td>å…§è¸</td><td>Tibialis Ant.</td><td>Patella</td></tr><tr><td>L5</td><td>è¶³èƒŒ/å¤§æ‹‡è¶¾</td><td>EHL (ç¿¹æ‹‡æŒ‡)</td><td>-</td></tr><tr><td>S1</td><td>å¤–è¸</td><td>Gastroc (å¢Šè…³)</td><td>Achilles</td></tr></table>
    `
  },

  // --- éª¨ç§‘: æ·±åº¦æ•´åˆ (æ¸¬è©¦+æ²»ç™‚) ---
  {
    id: 'ortho-shoulder-impinge', cat: 'ortho', title: 'è‚©å¤¾æ“ ç—‡å€™ç¾¤ (Impingement)', tags: ['Neer', 'Hawkins', 'æ²»ç™‚'],
    content: `
      <div class="section-title">ç‰¹æ®Šæ¸¬è©¦</div>
      <div class="method-box"><b>1. Neer's:</b> è¢«å‹•å±ˆæ›²+å…§è½‰åˆ°åº•ã€‚<br><b>2. Hawkins-Kennedy:</b> å±ˆæ›²90åº¦+å¿«é€Ÿå…§è½‰ã€‚<br><b>ğŸ‘‰ é™½æ€§ï¼š</b> å¤¾æ“  Supraspinatus æˆ–é•·é ­è‚Œè…±ã€‚</div>
      <div class="section-title">ç‰©ç†æ²»ç™‚å°ç­–</div>
      <div class="tx-grid">
        <div class="tx-box" style="border-top:3px solid var(--ortho)"><span class="tx-title">ğŸ‘ å¾’æ‰‹æ²»ç™‚</span><ul><li><b>Post. Glide:</b> è‚±éª¨é ­å¾Œæ»‘æ¸›å£“ã€‚</li><li><b>Inf. Glide:</b> ä¸‹æ»‘å¢åŠ å¤–å±•ã€‚</li><li><b>MWM:</b> å‹•æ…‹é¬†å‹•è¡“ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--modality)"><span class="tx-title">âš¡ å„€å™¨æ²»ç™‚</span><ul><li><b>æ·±å±¤ç†± (US):</b> å¢åŠ å»¶å±•æ€§ã€‚</li><li><b>IF/TENS:</b> æ­¢ç—›ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--assistive)"><span class="tx-title">ğŸ‹ï¸ é‹å‹•æ²»ç™‚</span><ul><li><b>YTWL:</b> å¼·åŒ–ä¸‹æ–œæ–¹èˆ‡å‰é‹¸è‚Œã€‚</li><li><b>ER:</b> å´èººç·´ Infraspinatusã€‚</li><li><b>ä¼¸å±•:</b> èƒ¸å°è‚Œã€‚</li></ul></div>
      </div>
    `
  },
  {
    id: 'ortho-shoulder-instab', cat: 'ortho', title: 'è‚©é—œç¯€ä¸ç©©å®š (Instability)', tags: ['Apprehension', 'è„«è‡¼'],
    content: `
      <div class="section-title">ç‰¹æ®Šæ¸¬è©¦</div>
      <div class="method-box"><b>1. Apprehension:</b> å¤–å±•90+å¤–è½‰ï¼Œç—…äººææ‡¼ã€‚<br><b>2. Relocation:</b> å¾Œæ¨è‚±éª¨é ­ï¼Œç—‡ç‹€æ¸›è¼•ã€‚<br><b>ğŸ‘‰ é™½æ€§ï¼š</b> å‰å´ä¸ç©©ã€ç¿’æ…£æ€§è„«è‡¼ã€‚</div>
      <div class="section-title">ç‰©ç†æ²»ç™‚å°ç­–</div>
      <div class="tx-grid">
        <div class="tx-box" style="border-top:3px solid var(--ortho)"><span class="tx-title">ğŸ‘ å¾’æ‰‹æ²»ç™‚</span><div class="red-flag">ç¦åšéåº¦ä¼¸å±•æˆ– Anterior Glideã€‚</div><ul><li><b>Approximation:</b> é—œç¯€æ“ å£“èª˜ç™¼ç©©å®šã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--modality)"><span class="tx-title">âš¡ å„€å™¨æ²»ç™‚</span><ul><li><b>NMES:</b> èª˜ç™¼æ—‹è½‰è‚Œè¢–ã€‚</li><li><b>Biofeedback:</b> ç”Ÿç‰©å›é¥‹ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--assistive)"><span class="tx-title">ğŸ‹ï¸ é‹å‹•æ²»ç™‚</span><ul><li><b>CKC:</b> é–‰é–éˆé‹å‹• (æ’åœ°)ã€‚</li><li><b>Rhythmic Stab:</b> å¤šæ–¹å‘å¹²æ“¾é˜»åŠ›ã€‚</li><li><b>å¼·åŒ–:</b> Subscapularis (å…§è½‰è‚Œ)ã€‚</li></ul></div>
      </div>
    `
  },
  {
    id: 'ortho-knee-acl', cat: 'ortho', title: 'å‰åå­—éŸŒå¸¶ (ACL Injury)', tags: ['Lachman', 'è¡“å¾Œå¾©å¥'],
    content: `
      <div class="section-title">ç‰¹æ®Šæ¸¬è©¦</div>
      <div class="method-box"><b>1. Lachman (é»ƒé‡‘æ¨™æº–):</b> å±ˆè†30åº¦å‰æ‹‰è„›éª¨ã€‚<br><b>2. Ant. Drawer:</b> å±ˆè†90åº¦å‰æ‹‰ (æ˜“å— Hamstrings å½±éŸ¿)ã€‚<br><b>ğŸ‘‰ é™½æ€§ï¼š</b> ACL æ–·è£‚/é¬†å¼›ã€‚</div>
      <div class="section-title">ç‰©ç†æ²»ç™‚å°ç­–</div>
      <div class="tx-grid">
        <div class="tx-box" style="border-top:3px solid var(--ortho)"><span class="tx-title">ğŸ‘ å¾’æ‰‹æ²»ç™‚</span><ul><li><b>Patellar Mob:</b> é«•éª¨é¬†å‹•é˜²æ²¾é»ã€‚</li><li><b>Knee Ext:</b> æ¢å¾©ä¼¸ç›´0åº¦ç‚ºé¦–è¦ã€‚</li><li><b>Edema massage:</b> æ¶ˆè…«ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--modality)"><span class="tx-title">âš¡ å„€å™¨æ²»ç™‚</span><ul><li><b>NMES:</b> èª˜ç™¼ VMO (è‚¡å››é ­è‚Œ)ã€‚</li><li><b>Game Ready:</b> åŠ å£“å†·ç™‚ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--assistive)"><span class="tx-title">ğŸ‹ï¸ é‹å‹•æ²»ç™‚</span><div class="red-flag">ç¦åš OKC Extension (45-0åº¦)ã€‚</div><ul><li><b>CKC:</b> æ·±è¹²ã€å¼“ç®­æ­¥ã€‚</li><li><b>Hamstrings:</b> å¼·åŒ–å”åŒè‚Œã€‚</li></ul></div>
      </div>
    `
  },
  {
    id: 'ortho-knee-meniscus', cat: 'ortho', title: 'åŠæœˆæ¿æå‚· (Meniscus)', tags: ['McMurray', 'Thessaly'],
    content: `
      <div class="section-title">ç‰¹æ®Šæ¸¬è©¦</div>
      <div class="method-box"><b>1. McMurray:</b> æ—‹è½‰+ä¼¸ç›´ (å…§è½‰æ¸¬å¤–å´)ã€‚<br><b>2. Thessaly:</b> å–®è…³ç«™ç«‹æ—‹è½‰20åº¦ã€‚<br><b>ğŸ‘‰ é™½æ€§ï¼š</b> åŠæœˆæ¿æ’•è£‚ (Clickè²/ç—›)ã€‚</div>
      <div class="section-title">ç‰©ç†æ²»ç™‚å°ç­–</div>
      <div class="tx-grid">
        <div class="tx-box" style="border-top:3px solid var(--ortho)"><span class="tx-title">ğŸ‘ å¾’æ‰‹æ²»ç™‚</span><ul><li><b>Distraction:</b> ç‰½å¼•æ¸›å£“ã€‚</li><li><b>Mulligan:</b> é‡å°å¡ä½åšé¬†å‹•ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--modality)"><span class="tx-title">âš¡ å„€å™¨æ²»ç™‚</span><ul><li><b>IFC:</b> æ·±å±¤æ­¢ç—›ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--assistive)"><span class="tx-title">ğŸ‹ï¸ é‹å‹•æ²»ç™‚</span><ul><li><b>NWB:</b> è…³è¸è»Šã€æ¸¸æ³³ã€‚</li><li><b>Quad Set:</b> ç­‰é•·æ”¶ç¸®ã€‚</li><li><b>é¿å…:</b> æ·±è¹²åˆ°åº• (Deep Squat)ã€‚</li></ul></div>
      </div>
    `
  },
  {
    id: 'ortho-lumbar-hivd', cat: 'ortho', title: 'æ¤é–“ç›¤çªå‡º (HIVD)', tags: ['SLR', 'McKenzie'],
    content: `
      <div class="section-title">ç‰¹æ®Šæ¸¬è©¦</div>
      <div class="method-box"><b>1. SLR:</b> 35-70åº¦æ”¾å°„ç—›ã€‚<br><b>2. Crossed SLR:</b> æŠ¬å¥å´æ‚£å´ç—› (ç‰¹ç•°åº¦é«˜)ã€‚<br><b>3. Slump:</b> åå§¿ä½é ­è¸¢è…¿ã€‚<br><b>ğŸ‘‰ é™½æ€§ï¼š</b> åéª¨ç¥ç¶“å£“è¿«ã€‚</div>
      <div class="section-title">ç‰©ç†æ²»ç™‚å°ç­–</div>
      <div class="tx-grid">
        <div class="tx-box" style="border-top:3px solid var(--ortho)"><span class="tx-title">ğŸ‘ å¾’æ‰‹æ²»ç™‚</span><ul><li><b>Traction:</b> æ‹‰é–‹æ¤é–“å­”ã€‚</li><li><b>PA:</b> ä¸­å¤®æˆ–å–®å´æŒ‰å£“æ­¢ç—›ã€‚</li><li><b>Nerve Mob:</b> ç¥ç¶“é¬†å‹•è¡“ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--modality)"><span class="tx-title">âš¡ å„€å™¨æ²»ç™‚</span><ul><li><b>è…°æ¤ç‰½å¼•:</b> é«”é‡ 25-50%ã€‚</li><li><b>ç†±æ•·:</b> æ”¾é¬†èƒŒè‚Œç—™æ”£ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--assistive)"><span class="tx-title">ğŸ‹ï¸ é‹å‹•æ²»ç™‚</span><ul><li><b>McKenzie:</b> å¾Œä»° (Extension) æ­¸ä½ã€‚</li><li><b>Core:</b> æ­»èŸ²å¼ã€é³¥ç‹—å¼ã€‚</li><li><b>è¡›æ•™:</b> é¿å…å½è…°æ¬é‡ã€‚</li></ul></div>
      </div>
    `
  },
  {
    id: 'ortho-ankle-sprain', cat: 'ortho', title: 'å¤–è¸æ‰­å‚· (Ankle Sprain)', tags: ['ATFL', 'POLICE'],
    content: `
      <div class="section-title">ç‰¹æ®Šæ¸¬è©¦</div>
      <div class="method-box"><b>1. Ant. Drawer:</b> æ‹‰è…³è·Ÿ (æ¸¬ ATFL)ã€‚<br><b>2. Talar Tilt:</b> å…§ç¿» (æ¸¬ CFL)ã€‚<br><b>ğŸ‘‰ é™½æ€§ï¼š</b> éŸŒå¸¶é¬†å¼›/æ–·è£‚ã€‚</div>
      <div class="section-title">ç‰©ç†æ²»ç™‚å°ç­– (POLICE)</div>
      <div class="tx-grid">
        <div class="tx-box" style="border-top:3px solid var(--ortho)"><span class="tx-title">ğŸ‘ å¾’æ‰‹æ²»ç™‚</span><ul><li><b>Cross Friction:</b> æ©«å‘æŒ‰æ‘© (äºæ€¥æ€§æœŸ)ã€‚</li><li><b>Mulligan:</b> å¾Œæ»‘è·éª¨å¢åŠ èƒŒå±ˆã€‚</li><li><b>Lymphatic:</b> æ·‹å·´å¼•æµã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--modality)"><span class="tx-title">âš¡ å„€å™¨æ²»ç™‚</span><ul><li><b>US:</b> ä¿ƒé€²éŸŒå¸¶ä¿®å¾©ã€‚</li><li><b>Taping:</b> è‚Œè²¼å›ºå®šä¿è­·ã€‚</li></ul></div>
        <div class="tx-box" style="border-top:3px solid var(--assistive)"><span class="tx-title">ğŸ‹ï¸ é‹å‹•æ²»ç™‚</span><ul><li><b>Proprioception:</b> å–®è…³ç«™ã€å¹³è¡¡æ¿ã€‚</li><li><b>Peroneus:</b> å¼·åŒ–è…“éª¨é•·çŸ­è‚Œã€‚</li><li><b>Stretching:</b> ä¼¸å±•å°è…¿ã€‚</li></ul></div>
      </div>
    `
  },

  // --- ç¥ç¶“ ---
  {
    id: 'neuro-stroke', cat: 'neuro', title: 'è…¦ä¸­é¢¨ Brunnstrom', tags: ['CVA', 'Synergy'],
    content: `
      <div class="section-title">Brunnstrom åˆ†æœŸ</div>
      <table><tr><th>Stage</th><th>ç‰¹å¾µ</th></tr><tr><td>I</td><td>è»Ÿç™±</td></tr><tr><td>II</td><td>Synergy å‡ºç¾</td></tr><tr><td>III</td><td>å¼µåŠ›æœ€å¼·</td></tr><tr><td>IV</td><td>æ‰“ç ´å”åŒï¼Œéƒ¨åˆ†åˆ†é›¢</td></tr><tr><td>V</td><td>åˆ†é›¢å‹•ä½œ</td></tr><tr><td>VI</td><td>æ¥è¿‘æ­£å¸¸</td></tr></table>
      <div class="concept-box"><b>ä¸Šè‚¢ Flexor Synergy:</b> Scapula retract, Shoulder Abd/ER, Elbow Flex, Supination.</div>
    `
  },
  {
    id: 'neuro-sci', cat: 'neuro', title: 'è„Šé«“æå‚· (SCI)', tags: ['ASIA', 'ç—‡å€™ç¾¤'],
    content: `
      <div class="section-title">ä¸å®Œå…¨æå‚·</div>
      <ul><li><b>Central Cord:</b> ä¸Šè‚¢ > ä¸‹è‚¢ã€‚</li><li><b>Brown-Sequard:</b> åŒå´æœ¬é«”å–ªå¤± / å°å´ç—›æº«å–ªå¤±ã€‚</li></ul>
      <div class="red-flag"><b>Autonomic Dysreflexia:</b> T6 ä»¥ä¸Šï¼Œè¡€å£“æ€¥å‡ã€‚è™•ç½®ï¼š<b>ç«‹åˆ»åèµ·</b>ã€‚</div>
    `
  },

  // --- å¿ƒè‚º ---
  {
    id: 'cardio-ekg', cat: 'cardio', title: 'å¿ƒé›»åœ–åˆ¤è®€ ACLS', tags: ['EKG', 'Arrhythmia'],
    content: `
      <div class="red-flag"><b>è‡´å‘½å¿ƒå¾‹ (Stop):</b> VF, VT (ç„¡è„ˆ), Asystoleã€‚</div>
      <div class="section-title">æ³¢å½¢</div>
      <p>Pæ³¢: å¿ƒæˆ¿å»æ¥µåŒ– / QRS: å¿ƒå®¤å»æ¥µåŒ– / Tæ³¢: å¿ƒå®¤å†æ¥µåŒ–ã€‚</p>
    `
  },
  {
    id: 'cardio-rehab', cat: 'cardio', title: 'å¿ƒè‡Ÿå¾©å¥ Phase I', tags: ['METs', 'ä½é™¢æœŸ'],
    content: `
      <div class="section-title">ä½é™¢æœŸ (Phase I)</div>
      <ul><li>å¼·åº¦: RPE < 13ï¼ŒHR < Resting + 20ã€‚</li></ul>
      <div class="concept-box"><b>METs:</b> 1-2 åƒé£¯ / 3-4 è¡Œèµ° / 5-6 æ…¢è·‘ã€‚</div>
    `
  },

  // --- å°å…’ ---
  {
    id: 'peds-dev', cat: 'peds', title: 'å…’ç«¥ç™¼å±•é‡Œç¨‹ç¢‘', tags: ['Milestone'],
    content: `
      <div class="exam-tip">å£è¨£ï¼šé ­ -> é ¸ -> è»€å¹¹ -> å››è‚¢</div>
      <table><tr><th>æœˆé½¡</th><th>èƒ½åŠ›</th></tr><tr><td>4m</td><td>ç¿»èº« (Roll)</td></tr><tr><td>6m</td><td>ç¨ç«‹å (Sit)</td></tr><tr><td>8m</td><td>è…¹çˆ¬</td></tr><tr><td>10m</td><td>å››é»çˆ¬ (Creep)</td></tr><tr><td>12m</td><td>æ”¾æ‰‹èµ°</td></tr></table>
    `
  },
  {
    id: 'peds-cp', cat: 'peds', title: 'è…¦æ€§éº»ç—º GMFCS', tags: ['CP', 'åˆ†ç´š'],
    content: `
      <div class="section-title">GMFCS (6-12æ­²)</div>
      <ul><li>L1: è·‘è·³è‡ªå¦‚ã€‚</li><li>L3: å®¤å…§åŠ©è¡Œå™¨ï¼Œæˆ¶å¤–è¼ªæ¤…ã€‚</li><li>L5: å®Œå…¨ä¾è³´ã€‚</li></ul>
    `
  },

  // --- é€²éš ---
  {
    id: 'mod-electro', cat: 'modality', title: 'é›»ç™‚åƒæ•¸ TENS', tags: ['æ­¢ç—›'],
    content: `
      <div class="section-title">TENS æ¨¡å¼</div>
      <table><tr><th>æ¨¡å¼</th><th>é »ç‡</th><th>æ©Ÿè½‰</th></tr><tr><td>é«˜é » (Conventional)</td><td>80-120Hz</td><td>Gate Control</td></tr><tr><td>ä½é » (Acupuncture)</td><td>1-10Hz</td><td>Opiate</td></tr></table>
    `
  },
  {
    id: 'at-wheel', cat: 'assistive', title: 'è¼ªæ¤…æ¸¬é‡', tags: ['Fit', 'å£“ç˜¡'],
    content: `
      <div class="red-flag">é‡éŒ¯å°è‡´å£“ç˜¡ã€‚</div>
      <p><b>å¯¬åº¦:</b> è‡€å¯¬+2å‹ã€‚<br><b>æ·±åº¦:</b> è‡€å¾Œè‡³è†•çª©-2å‹ã€‚<br><b>æ‰¶æ‰‹é«˜:</b> è‚˜å±ˆ90+1å‹ã€‚</p>
    `
  },
  {
    id: 'bio-gait', cat: 'biomech', title: 'ç•°å¸¸æ­¥æ…‹åˆ†æ', tags: ['Gait'],
    content: `
      <div class="section-title">å¸¸è¦‹ç•°å¸¸</div>
      <ul><li><b>Trendelenburg:</b> è‡€ä¸­è‚Œç„¡åŠ›ï¼Œéª¨ç›†æ‰å‘å¥å´ã€‚</li><li><b>Steppage:</b> å‚è¶³ (Drop foot)ã€‚</li></ul>
    `
  }
];

// ============================================
//   é‚è¼¯æ§åˆ¶ (Logic)
// ============================================
const mainArea = document.getElementById('mainContent');
const sidebar = document.getElementById('sidebar');
const menuOverlay = document.querySelector('.menu-overlay');

const categories = {
  ortho: { name: 'éª¨ç§‘ç‰©ç†æ²»ç™‚', color: 'var(--ortho)', icon: 'ğŸ¦´' },
  neuro: { name: 'ç¥ç¶“ç‰©ç†æ²»ç™‚', color: 'var(--neuro)', icon: 'ğŸ§ ' },
  cardio: { name: 'å¿ƒè‚ºç‰©ç†æ²»ç™‚', color: 'var(--cardio)', icon: 'ğŸ«€' },
  peds: { name: 'å°å…’ç‰©ç†æ²»ç™‚', color: 'var(--peds)', icon: 'ğŸ‘¶' },
  modality: { name: 'ç‰©ç†å› å­èˆ‡å„€å™¨', color: 'var(--modality)', icon: 'âš¡' },
  assistive: { name: 'è¼”å…·èˆ‡ç§‘æŠ€', color: 'var(--assistive)', icon: 'ğŸ¦½' },
  biomech: { name: 'ç”Ÿç‰©åŠ›å­¸', color: 'var(--biomech)', icon: 'ğŸš¶' }
};

function renderHome() {
  mainArea.innerHTML = `
    <div class="home-container">
      <div style="font-size:24px; font-weight:800; margin-bottom:24px; text-align:center; color:#1e293b;">PT åœ‹è€ƒå…¨æ”»ç•¥è³‡æ–™åº«</div>
      <div style="font-size:14px; font-weight:700; color:#94a3b8; margin-bottom:12px;">å››å¤§ä¸»ç§‘</div>
      <div class="grid-main">
        ${createCard('ortho')} ${createCard('neuro')}
        ${createCard('cardio')} ${createCard('peds')}
      </div>
      <div style="font-size:14px; font-weight:700; color:#94a3b8; margin-bottom:12px;">é€²éšç§‘ç›®</div>
      <div class="grid-sub">
        ${createCard('modality', true)} ${createCard('assistive', true)} ${createCard('biomech', true)}
      </div>
    </div>
  `;
  closeSidebar();
  window.scrollTo(0, 0);
}

function createCard(key, isSub = false) {
  const c = categories[key];
  if(isSub) return `<div class="subject-card" onclick="renderCategory('${key}')" style="border-top:4px solid ${c.color}; padding:16px;"><div style="font-size:24px;">${c.icon}</div><div style="font-weight:700; margin-top:8px; font-size:15px; color:#334155;">${c.name.split(' ')[0]}</div></div>`;
  return `<div class="subject-card" onclick="renderCategory('${key}')" style="border-top:5px solid ${c.color}"><div class="icon-box" style="background:${c.color}">${c.icon}</div><div class="subj-title" style="color:${c.color}">${c.name.split(' ')[0]}</div><div class="subj-desc">${c.name.split(' ')[1]||''}</div></div>`;
}

function renderCategory(catKey) {
  const c = categories[catKey];
  const items = database.filter(d => d.cat === catKey);
  const gridHtml = items.length ? items.map(d => `
    <div class="topic-btn" onclick="renderContent('${d.id}')">
      <div><div class="topic-title">${d.title}</div><div class="topic-tags">${d.tags.join(' â€¢ ')}</div></div>
      <div style="color:#cbd5e1">â”</div>
    </div>`).join('') : `<div style="text-align:center;color:#94a3b8;padding:40px;">è³‡æ–™æ“´å……ä¸­...</div>`;
  
  mainArea.innerHTML = `
    <div class="cat-header"><button class="back-btn" onclick="renderHome()">â† å›é¦–é </button><h2 style="margin:0;color:${c.color};font-size:20px;">${c.icon} ${c.name}</h2></div>
    <div class="topic-grid">${gridHtml}</div>`;
  closeSidebar();
  window.scrollTo(0, 0);
}

function renderContent(id) {
  const d = database.find(x => x.id === id);
  const c = categories[d.cat];
  const tagsHtml = d.tags.map(t=>`<span class="badge" style="background:${c.color}">${t}</span>`).join('');
  mainArea.innerHTML = `
    <div class="cat-header"><button class="back-btn" onclick="renderCategory('${d.cat}')">â† å›åˆ—è¡¨</button></div>
    <div class="detail-view">
      <h1 class="detail-title">${d.title}</h1>
      <div style="margin-bottom:24px;">${tagsHtml}</div>
      <div>${d.content}</div>
    </div>`;
  window.scrollTo(0, 0);
}

function toggleSidebar(){ sidebar.classList.toggle('open'); menuOverlay.style.display=sidebar.classList.contains('open')?'block':'none'; }
function closeSidebar(){ sidebar.classList.remove('open'); menuOverlay.style.display='none'; }

// Init
renderHome();
</script>
</body>
</html>
