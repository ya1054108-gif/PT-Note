<!doctype html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
<title>PT åœ‹è€ƒå…¨æ”»ç•¥ (Ultimate Edition)</title>
<style>
:root{
  --bg: #f1f5f9; --sidebar-bg: #1e293b; --sidebar-text: #e2e8f0;
  --card: #ffffff; --text: #334155; --border: #e2e8f0;
  --ortho: #2563eb; --neuro: #7c3aed; --cardio: #dc2626; --peds: #ea580c;
  --modality: #059669; --assistive: #db2777; --biomech: #4b5563;
  --radius: 12px; --header-h: 60px; --sidebar-w: 260px;
}
*{box-sizing:border-box;-webkit-tap-highlight-color:transparent}
body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Microsoft JhengHei",sans-serif;margin:0;background:var(--bg);color:var(--text);height:100vh;overflow:hidden;}

/* Layout */
.app-container{display:flex; height:100vh;}
.main{flex:1; display:flex; flex-direction:column; background:var(--bg); overflow:hidden; position:relative;}
.header-bar{height:var(--header-h); background:#fff; display:flex; align-items:center; padding:0 16px; border-bottom:1px solid #eee; position:sticky; top:0; z-index:30; justify-content:space-between;}
.content-area{flex:1; overflow-y:auto; padding:20px; scroll-behavior:smooth;}

/* Sidebar */
.sidebar{width:var(--sidebar-w); background:var(--sidebar-bg); color:var(--sidebar-text); display:flex; flex-direction:column; flex-shrink:0; transition:transform 0.3s ease; z-index:50;}
.sidebar-header{padding:20px; border-bottom:1px solid rgba(255,255,255,0.1); font-weight:800; font-size:18px; color:#fff;}
.nav-scroll{overflow-y:auto; flex:1; padding:10px 0;}
.nav-item{padding:12px 20px; cursor:pointer; font-size:14px; display:flex; align-items:center; gap:10px; transition:0.2s; border-left:3px solid transparent; color:rgba(255,255,255,0.7);}
.nav-item:hover{background:rgba(255,255,255,0.05); color:#fff;}
.nav-section{font-size:11px; font-weight:700; color:rgba(255,255,255,0.4); padding:15px 20px 5px; text-transform:uppercase;}

/* Mobile */
.menu-overlay{position:fixed; top:0; left:0; right:0; bottom:0; background:rgba(0,0,0,0.5); z-index:40; display:none;}
.menu-btn{cursor:pointer; font-size:24px; padding:5px; display:none;}

/* Content Views */
.home-container{max-width:900px; margin:0 auto; width:100%; animation:fadeIn 0.3s ease;}
.grid-main{display:grid; grid-template-columns:1fr 1fr; gap:16px; margin-bottom:30px;}
.grid-sub{display:grid; grid-template-columns:repeat(auto-fill, minmax(140px, 1fr)); gap:12px;}

.subject-card{background:#fff; border-radius:var(--radius); padding:20px; cursor:pointer; border:1px solid var(--border); transition:0.2s; display:flex; flex-direction:column; align-items:center; text-align:center; box-shadow:0 4px 6px -1px rgba(0,0,0,0.05);}
.subject-card:hover{transform:translateY(-4px); box-shadow:0 10px 15px -3px rgba(0,0,0,0.1);}
.icon-box{width:45px; height:45px; border-radius:10px; display:flex; align-items:center; justify-content:center; font-size:22px; margin-bottom:10px; color:#fff;}

.cat-header{display:flex; align-items:center; gap:10px; margin-bottom:20px;}
.back-btn{padding:6px 14px; border-radius:20px; border:1px solid #ccc; background:#fff; cursor:pointer; font-size:13px;}
.topic-grid{display:grid; grid-template-columns:1fr; gap:12px; animation:fadeIn 0.3s ease;}
.topic-btn{background:#fff; padding:16px; border-radius:8px; border:1px solid var(--border); cursor:pointer; display:flex; justify-content:space-between; align-items:center; transition:0.2s; box-shadow:0 2px 4px rgba(0,0,0,0.02);}
.topic-btn:hover{border-color:var(--text); background:#f8fafc;}

.detail-view{max-width:800px; margin:0 auto; background:#fff; padding:30px; border-radius:var(--radius); border:1px solid var(--border); animation:slideUp 0.3s ease;}
.detail-title{font-size:26px; font-weight:800; margin-bottom:10px; color:var(--text);}
.badge{padding:3px 8px; border-radius:4px; font-size:12px; font-weight:700; color:#fff; display:inline-block; margin-right:4px;}

/* Typography inside details */
.section-title{font-size:18px; font-weight:700; margin:24px 0 12px 0; border-bottom:2px solid #f1f5f9; padding-bottom:8px; color:var(--text);}
table{width:100%; border-collapse:collapse; margin-bottom:15px; font-size:15px;}
th{background:#f8fafc; padding:10px; text-align:left; color:#475569; border-bottom:2px solid #e2e8f0;}
td{border-bottom:1px solid #f1f5f9; padding:10px;}
.red-flag{background:#fef2f2; border-left:4px solid #ef4444; padding:12px; margin:15px 0; color:#991b1b; font-size:14px;}
.exam-tip{background:#fffbeb; border-left:4px solid #f59e0b; padding:12px; margin:15px 0; color:#92400e; font-size:14px;}
.concept-box{background:#eff6ff; border:1px solid #dbeafe; padding:12px; border-radius:6px; margin:15px 0; color:#1e3a8a; font-size:14px;}
ul, ol{padding-left:20px; line-height:1.7;}

@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes slideUp{from{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}

@media(max-width:900px){
  .sidebar{position:fixed; left:-100%; height:100%; box-shadow:4px 0 20px rgba(0,0,0,0.2);}
  .sidebar.open{left:0;}
  .menu-overlay.open{display:block;}
  .menu-btn{display:block;}
  .grid-main{grid-template-columns:1fr;}
  .topic-grid{grid-template-columns:1fr;}
  .detail-view{padding:20px; border:none;}
}
@media(min-width:901px){.topic-grid{grid-template-columns:1fr 1fr;}}
</style>
</head>
<body>

<div class="menu-overlay" onclick="closeSidebar()"></div>

<div class="app-container">
  <aside class="sidebar" id="sidebar">
    <div class="sidebar-header">PT åœ‹è€ƒè³‡æ–™åº«</div>
    <div class="nav-scroll">
      <div class="nav-item" onclick="renderHome()">ğŸ  å›é¦–é </div>
      <div class="nav-section">å››å¤§ä¸»ç§‘</div>
      <div class="nav-item" onclick="renderCategory('ortho')"><span style="color:var(--ortho)">ğŸ¦´</span> éª¨ç§‘ç‰©ç†æ²»ç™‚</div>
      <div class="nav-item" onclick="renderCategory('neuro')"><span style="color:var(--neuro)">ğŸ§ </span> ç¥ç¶“ç‰©ç†æ²»ç™‚</div>
      <div class="nav-item" onclick="renderCategory('cardio')"><span style="color:var(--cardio)">ğŸ«€</span> å¿ƒè‚ºç‰©ç†æ²»ç™‚</div>
      <div class="nav-item" onclick="renderCategory('peds')"><span style="color:var(--peds)">ğŸ‘¶</span> å°å…’ç‰©ç†æ²»ç™‚</div>
      <div class="nav-section">é€²éšç§‘ç›®</div>
      <div class="nav-item" onclick="renderCategory('modality')"><span style="color:var(--modality)">âš¡</span> å„€å™¨èˆ‡å› å­</div>
      <div class="nav-item" onclick="renderCategory('assistive')"><span style="color:var(--assistive)">ğŸ¦½</span> è¼”å…·èˆ‡ç§‘æŠ€</div>
      <div class="nav-item" onclick="renderCategory('biomech')"><span style="color:var(--biomech)">ğŸš¶</span> ç”Ÿç‰©åŠ›å­¸</div>
    </div>
  </aside>

  <main class="main">
    <div class="header-bar">
      <div style="display:flex; align-items:center; gap:10px;">
        <div class="menu-btn" onclick="toggleSidebar()">â˜°</div>
        <div style="font-weight:700; color:var(--text);">PT Exam Hub</div>
      </div>
    </div>
    <div class="content-area" id="mainContent"></div>
  </main>
</div>

<script>
// ============================================
//   è³‡æ–™åº«å…§å®¹ (Database)
// ============================================
const database = [
  // --- éª¨ç§‘ (Magee Complete) ---
  {
    {
    id: 'magee-capsular-full',
    cat: 'ortho',
    title: 'Magee: é—œç¯€å—é™æ¨¡å¼èˆ‡çµ‚ç«¯æ„Ÿè¦ºå¤§å…¨',
    tags: ['Capsular Pattern', 'End-feel', 'Cyriax'],
    content: `
      <div class="exam-tip">
        ğŸ’¡ <b>å®šç¾©ï¼š</b><br>
        1. <b>Capsular Pattern:</b> ç•¶æ•´å€‹é—œç¯€å›Šç™¼ç‚æˆ–çº–ç¶­åŒ–æ™‚ï¼Œå„å€‹å‹•ä½œå—é™çš„ç‰¹å®šæ¯”ä¾‹ (Cyriax)ã€‚<br>
        2. <b>End-Feel:</b> é—œç¯€è¢«å‹•æ´»å‹•åˆ°çµ‚ç«¯æ™‚çš„æ‰‹æ„Ÿã€‚
      </div>

      <div class="section-title">1. ä¸Šè‚¢é—œç¯€ (Upper Extremity)</div>
      <table>
        <tr><th width="30%">é—œç¯€</th><th>å—é™æ¨¡å¼ (é™åˆ¶æœ€å¤§ -> æœ€å°)</th></tr>
        <tr><td><b>è‚©é—œç¯€ (Glenohumeral)</b></td><td><b>ER > Abd > IR</b> (å¤–è½‰ > å¤–å±• > å…§è½‰)</td></tr>
        <tr><td>èƒ¸é–é—œç¯€ (SC Joint)</td><td>å‹•ä½œæœ«ç«¯ç–¼ç—› (Pain at extreme ROM)</td></tr>
        <tr><td>è‚©é–é—œç¯€ (AC Joint)</td><td>å‹•ä½œæœ«ç«¯ç–¼ç—›</td></tr>
        <tr><td><b>è‚˜é—œç¯€ (Humeroulnar)</b></td><td><b>Flex > Ext</b> (å±ˆæ›² > ä¼¸ç›´)</td></tr>
        <tr><td>æ©ˆè‚±é—œç¯€ (Radiohumeral)</td><td>Flex > Ext > Sup > Pro</td></tr>
        <tr><td>ä¸Š/ä¸‹å°ºæ©ˆ (Radioulnar)</td><td>Pro = Sup (æ—‹å‰æ—‹å¾Œé™åˆ¶ç›¸ç­‰ï¼Œä¸”æœ«ç«¯ç—›)</td></tr>
        <tr><td><b>æ‰‹è…• (Radiocarpal)</b></td><td><b>Flex = Ext</b> (å±ˆä¼¸é™åˆ¶ç›¸ç­‰)</td></tr>
        <tr><td>æ‹‡æŒ‡åŸºéƒ¨ (CMC)</td><td><b>Abd > Ext</b> (å¤–å±• > ä¼¸ç›´)</td></tr>
        <tr><td>æ‰‹æŒ‡ (MCP & IP)</td><td>Flex > Ext</td></tr>
      </table>

      <div class="section-title">2. ä¸‹è‚¢é—œç¯€ (Lower Extremity)</div>
      <table>
        <tr><th>é—œç¯€</th><th>å—é™æ¨¡å¼</th></tr>
        <tr><td><b>é«–é—œç¯€ (Hip)</b></td><td><b>Flex > Abd > IR</b> (å±ˆæ›² > å¤–å±• > å…§è½‰)<br>*(è¨»: æœ‰äº›ç‰ˆæœ¬ç‚º IR>Ext>Abdï¼Œä½† Magee ä¸»å¼• Cyriax)*</td></tr>
        <tr><td><b>è†é—œç¯€ (Tibiofemoral)</b></td><td><b>Flex > Ext</b> (å±ˆæ›²å—é™é å¤§æ–¼ä¼¸ç›´)</td></tr>
        <tr><td><b>è¸é—œç¯€ (Talocrural)</b></td><td><b>PF > DF</b> (è¹ å±ˆ > èƒŒå±ˆ)</td></tr>
        <tr><td>è·ä¸‹é—œç¯€ (Subtalar)</td><td>Varus > Valgus (å…§ç¿» > å¤–ç¿»)</td></tr>
        <tr><td>ä¸­è·—é—œç¯€ (Midtarsal)</td><td>DF > PF > Add > IR</td></tr>
        <tr><td>è…³å¤§æ‹‡è¶¾ (MTP 1st)</td><td>Ext > Flex</td></tr>
        <tr><td>å…¶ä»–è…³è¶¾ (MTP 2-5)</td><td>Flex > Ext</td></tr>
      </table>

      <div class="section-title">3. è„Šæ¤ (Spine)</div>
      <div class="concept-box">è„Šæ¤çš„å—é™æ¨¡å¼é€šå¸¸æ˜¯ï¼šå´å½èˆ‡æ—‹è½‰å—é™ç›¸ç­‰ï¼Œä¼¸ç›´å—é™ã€‚</div>
      <table>
        <tr><th>å€åŸŸ</th><th>å—é™æ¨¡å¼</th></tr>
        <tr><td>é ¸æ¤ (Cervical)</td><td>å´å½èˆ‡æ—‹è½‰å—é™ç›¸ç­‰ > ä¼¸ç›´ã€‚(Flex é€šå¸¸æ­£å¸¸)</td></tr>
        <tr><td>èƒ¸æ¤ (Thoracic)</td><td>å´å½èˆ‡æ—‹è½‰å—é™ç›¸ç­‰ > ä¼¸ç›´ã€‚</td></tr>
        <tr><td>è…°æ¤ (Lumbar)</td><td>å´å½èˆ‡æ—‹è½‰å—é™ç›¸ç­‰ > ä¼¸ç›´ã€‚</td></tr>
        <tr><td>é¡³é¡é—œç¯€ (TMJ)</td><td>å¼µå£å—é™ (Opening limited)ã€‚</td></tr>
      </table>

      <div class="section-title">4. æ­£å¸¸çµ‚ç«¯æ„Ÿè¦º (Normal End-Feels)</div>
      <table>
        <tr><th>é¡å‹</th><th>æè¿°</th><th>ç¯„ä¾‹</th></tr>
        <tr><td><b>Bone-to-bone (Hard)</b></td><td>ç¡¬ç¢°ç¡¬ï¼Œç„¡ç—›</td><td>è‚˜ä¼¸ç›´ (Elbow Ext)</td></tr>
        <tr><td><b>Soft tissue approx.</b></td><td>è»Ÿçµ„ç¹”æ“ å£“</td><td>è†å±ˆæ›² (Knee Flex)</td></tr>
        <tr><td><b>Tissue Stretch (Firm)</b></td><td>æœ‰å½ˆæ€§çš„é˜»åŠ› (éŸŒå¸¶/é—œç¯€å›Š)</td><td>è‚©å¤–è½‰ã€æŒ‡ä¼¸ç›´</td></tr>
      </table>

      <div class="section-title">5. ç•°å¸¸çµ‚ç«¯æ„Ÿè¦º (Abnormal End-Feels)</div>
      <table>
        <tr><th>é¡å‹</th><th>å¯èƒ½åŸå› </th></tr>
        <tr><td><b>Early Muscle Spasm</b></td><td>æ€¥æ€§å—å‚·ã€ä¿è­·æ€§è‚Œè‚‰æ”¶ç¸® (ç™¼ç‚æœŸ)ã€‚</td></tr>
        <tr><td><b>Late Muscle Spasm</b></td><td>ä¸ç©©å®šé€ æˆçš„è‚Œè‚‰ç·Šç¹ƒ (Instability)ã€‚</td></tr>
        <tr><td><b>Mushy (Boggy)</b></td><td>è»Ÿè»Ÿçš„ã€Œæµ·ç¶¿æ„Ÿã€ -> <b>é—œç¯€ç©æ°´ (Effusion)</b>ã€‚</td></tr>
        <tr><td><b>Hard Capsule</b></td><td>åƒçµå‡ä¸€æ¨£ç¡¬ (æ¯”æ­£å¸¸ Firm ç¡¬) -> <b>æ²¾é» (Frozen)</b>ã€‚</td></tr>
        <tr><td><b>Soft Capsule</b></td><td>æ¯”æ­£å¸¸é¬† -> æ°´è…«æˆ–æ»‘è†œç‚ã€‚</td></tr>
        <tr><td><b>Bone-to-bone</b></td><td>åœ¨ä¸è©²å‡ºç¾çš„åœ°æ–¹å‡ºç¾ -> éª¨åˆº (Osteophyte)ã€‚</td></tr>
        <tr><td><b>Empty</b></td><td>å› ç‚ºåŠ‡ç—›è€Œç„¡æ³•æ¸¬åˆ°çµ‚é» -> éª¨æŠ˜ã€æ»‘å›Šç‚ã€è…«ç˜¤ã€‚</td></tr>
        <tr><td><b>Springy Block</b></td><td>å›å½ˆæ„Ÿ -> <b>åŠæœˆæ¿æ’•è£‚ (Meniscus tear)</b>ã€‚</td></tr>
      </table>
    `
  },
    `
  },
  {
    id: 'magee-neuro-exam', cat: 'ortho', title: 'Magee: ç¥ç¶“å­¸æª¢æŸ¥', tags: ['Dermatome', 'Myotome'],
    content: `
      <div class="section-title">ä¸Šè‚¢é—œéµçš®ç¯€èˆ‡è‚Œç¯€</div>
      <table>
        <tr><th>ç¯€æ•¸</th><th>æ„Ÿè¦º (Sensory)</th><th>è‚Œè‚‰ (Motor)</th><th>åå°„</th></tr>
        <tr><td>C5</td><td>ä¸Šè‡‚å¤–å´</td><td>Deltoid</td><td>Biceps</td></tr>
        <tr><td>C6</td><td>å¤§æ‹‡æŒ‡</td><td>Wrist Ext</td><td>Brachioradialis</td></tr>
        <tr><td>C7</td><td>ä¸­æŒ‡</td><td>Triceps</td><td>Triceps</td></tr>
        <tr><td>C8</td><td>å°æŒ‡</td><td>Finger Flex</td><td>-</td></tr>
      </table>
      <div class="section-title">ä¸‹è‚¢é—œéµçš®ç¯€èˆ‡è‚Œç¯€</div>
      <table>
        <tr><th>ç¯€æ•¸</th><th>æ„Ÿè¦º</th><th>è‚Œè‚‰</th><th>åå°„</th></tr>
        <tr><td>L4</td><td>å…§è¸</td><td>Tibialis Ant.</td><td>Patella</td></tr>
        <tr><td>L5</td><td>è¶³èƒŒ/å¤§æ‹‡è¶¾</td><td>EHL (ç¿¹æ‹‡æŒ‡)</td><td>-</td></tr>
        <tr><td>S1</td><td>å¤–è¸</td><td>Gastroc (å¢Šè…³)</td><td>Achilles</td></tr>
      </table>
    `
  },
  {
    id: 'magee-spine', cat: 'ortho', title: 'Magee: è„Šæ¤ç‰¹æ®Šæ¸¬è©¦', tags: ['C-spine', 'Lumbar'],
    content: `
      <div class="red-flag"><b>VBI Test:</b> æ¸¬è©¦æ¤åŸºåº•å‹•è„ˆã€‚ä¼¸å±•+æ—‹è½‰åˆ°åº•ï¼Œå‡ºç¾ 5D3N ç‚ºé™½æ€§ (æšˆçœ©ã€è¤‡è¦–ã€çœ¼éœ‡)ã€‚</div>
      <div class="section-title">é ¸æ¤æ¸¬è©¦</div>
      <ul>
        <li><b>Sharp-Purser:</b> æ¸¬æ©«éŸŒå¸¶ (C1-C2 ä¸ç©©)ã€‚</li>
        <li><b>Spurling's:</b> å´å½åŠ å£“ -> ç¥ç¶“æ ¹ç—›ã€‚</li>
        <li><b>Distraction:</b> ä¸Šæé ­éƒ¨ -> ç¥ç¶“ç—›æ¸›è¼•ã€‚</li>
      </ul>
      <div class="section-title">è…°æ¤æ¸¬è©¦</div>
      <ul>
        <li><b>SLR:</b> 35-70åº¦æ”¾å°„ç—› (åéª¨ç¥ç¶“)ã€‚</li>
        <li><b>Slump:</b> é§èƒŒè¸¢è…¿å‹¾è…³ (ç¡¬è„Šè†œå¼µåŠ›)ã€‚</li>
        <li><b>Stork (å–®è…³ç«™å¾Œä»°):</b> è„Šæ¤æ»‘è„«/è§£é›¢ã€‚</li>
      </ul>
    `
  },
  {
    id: 'magee-shoulder', cat: 'ortho', title: 'Magee: è‚©é—œç¯€ç‰¹æ®Šæ¸¬è©¦', tags: ['Impingement', 'RCT'],
    content: `
      <div class="section-title">1. å¤¾æ“  (Impingement)</div>
      <table><tr><th>æ¸¬è©¦</th><th>å‹•ä½œ</th></tr><tr><td>Neer's</td><td>è¢«å‹•å±ˆæ›²åˆ°åº•</td></tr><tr><td>Hawkins-Kennedy</td><td>å±ˆæ›²90 + å…§è½‰</td></tr><tr><td>Painful Arc</td><td>60-120åº¦ç–¼ç—›</td></tr></table>
      <div class="section-title">2. æ—‹è½‰è‚Œè¢– (Rotator Cuff)</div>
      <ul>
        <li><b>Empty Can:</b> Supraspinatus (å€’å¯æ¨‚å§¿å‹¢)ã€‚</li>
        <li><b>Drop Arm:</b> æ‰‹è‡‚ç„¡æ³•ç·©æ…¢æ”¾ä¸‹ (æ–·è£‚)ã€‚</li>
        <li><b>Lift-off:</b> æ‰‹èƒŒé›¢èƒŒ (Subscapularis)ã€‚</li>
      </ul>
      <div class="section-title">3. é—œç¯€å”‡ (SLAP)</div>
      <p><b>O'Brien's:</b> å…§è½‰ç—› > å¤–è½‰ç—›ã€‚</p>
    `
  },
  {
    id: 'magee-knee', cat: 'ortho', title: 'Magee: è†é—œç¯€ç‰¹æ®Šæ¸¬è©¦', tags: ['ACL', 'Meniscus'],
    content: `
      <div class="concept-box">ACL é»ƒé‡‘æ¨™æº–ï¼šLachman Test (å±ˆè†30åº¦)ã€‚</div>
      <div class="section-title">éŸŒå¸¶ä¸ç©©</div>
      <ul>
        <li><b>ACL:</b> Lachman, Anterior Drawer, Pivot Shift (æ—‹è½‰)ã€‚</li>
        <li><b>PCL:</b> Posterior Sag (è„›éª¨ä¸‹é™·)ã€‚</li>
        <li><b>MCL:</b> Valgus Stress (å¤–ç¿»)ã€‚</li>
      </ul>
      <div class="section-title">åŠæœˆæ¿</div>
      <ul>
        <li><b>McMurray:</b> æ—‹è½‰+ä¼¸ç›´ (å…§è½‰æ¸¬å¤–å´)ã€‚</li>
        <li><b>Thessaly:</b> å–®è…³ç«™ç«‹æ—‹è½‰ (æº–ç¢ºåº¦é«˜)ã€‚</li>
      </ul>
    `
  },
  {
    id: 'magee-hip', cat: 'ortho', title: 'Magee: é«–é—œç¯€èˆ‡ SIJ', tags: ['Thomas', 'Laslett'],
    content: `
      <div class="section-title">æ”£ç¸®æ¸¬è©¦</div>
      <ul>
        <li><b>Thomas:</b> æ¸¬é«‚è…°è‚Œ (å¤§è…¿é›¢åºŠ) / è‚¡ç›´è‚Œ (å°è…¿ç¿¹)ã€‚</li>
        <li><b>Ober's:</b> å´èººæ¸¬ IT Band ç·Šç¹ƒã€‚</li>
      </ul>
      <div class="section-title">SIJ Laslett Cluster (3/5 é™½æ€§)</div>
      <p>1.Distraction 2.Compression 3.Thigh Thrust 4.Sacral Thrust 5.Gaenslen's</p>
    `
  },

  // --- ç¥ç¶“ ---
  {
    id: 'neuro-stroke', cat: 'neuro', title: 'è…¦ä¸­é¢¨ Brunnstrom', tags: ['CVA', 'Synergy'],
    content: `
      <div class="section-title">Brunnstrom åˆ†æœŸ</div>
      <table><tr><th>Stage</th><th>ç‰¹å¾µ</th></tr><tr><td>I</td><td>è»Ÿç™±</td></tr><tr><td>II</td><td>Synergy å‡ºç¾</td></tr><tr><td>III</td><td>å¼µåŠ›æœ€å¼·</td></tr><tr><td>IV</td><td>æ‰“ç ´å”åŒï¼Œéƒ¨åˆ†åˆ†é›¢</td></tr><tr><td>V</td><td>åˆ†é›¢å‹•ä½œ</td></tr><tr><td>VI</td><td>æ¥è¿‘æ­£å¸¸</td></tr></table>
      <div class="concept-box"><b>ä¸Šè‚¢å±ˆè‚Œå”åŒ:</b> Scapula retract, Shoulder Abd/ER, Elbow Flex, Supination.</div>
    `
  },
  {
    id: 'neuro-sci', cat: 'neuro', title: 'è„Šé«“æå‚· (SCI)', tags: ['ASIA', 'ç—‡å€™ç¾¤'],
    content: `
      <div class="section-title">ä¸å®Œå…¨æå‚·</div>
      <ul>
        <li><b>Central Cord:</b> ä¸Šè‚¢åš´é‡ > ä¸‹è‚¢ (èµ°è·¯åƒæ®­å±)ã€‚</li>
        <li><b>Brown-Sequard:</b> åŒå´æœ¬é«”å–ªå¤± / å°å´ç—›æº«å–ªå¤±ã€‚</li>
      </ul>
      <div class="red-flag"><b>Autonomic Dysreflexia (è‡ªä¸»ç¥ç¶“åå°„ç•°å¸¸):</b><br>T6 ä»¥ä¸Šæå‚·ï¼Œè¡€å£“é£†é«˜ã€é ­ç—›ã€‚è™•ç½®ï¼š<b>ç«‹åˆ»åèµ·</b>ï¼Œæª¢æŸ¥å°¿ç®¡ã€‚</div>
    `
  },

  // --- å¿ƒè‚º ---
  {
    id: 'cardio-ekg', cat: 'cardio', title: 'å¿ƒé›»åœ–èˆ‡ ACLS', tags: ['EKG', 'Arrhythmia'],
    content: `
      <div class="red-flag"><b>PT å¿…çŸ¥è‡´å‘½å¿ƒå¾‹ (Stop):</b><br>1. VF (é¡«å‹•)<br>2. VT (é »è„ˆ) ç„¡è„ˆæ<br>3. Asystole (ä¸€ç›´ç·š)</div>
      <div class="section-title">æ³¢å½¢æ„ç¾©</div>
      <p>Pæ³¢: å¿ƒæˆ¿å»æ¥µåŒ– / QRS: å¿ƒå®¤å»æ¥µåŒ– / Tæ³¢: å¿ƒå®¤å†æ¥µåŒ– (é«˜å°–=é«˜è¡€é‰€)ã€‚</p>
    `
  },
  {
    id: 'cardio-rehab', cat: 'cardio', title: 'å¿ƒè‡Ÿå¾©å¥ Phase I', tags: ['METs', 'ä½é™¢æœŸ'],
    content: `
      <div class="section-title">Phase I ä½é™¢æœŸ</div>
      <ul>
        <li>ç›®æ¨™: æ—©æœŸæ´»å‹•ï¼Œé¿å…è‡¥åºŠï¼Œè¡›æ•™ã€‚</li>
        <li>å¼·åº¦: RPE < 13ï¼ŒHR < Resting + 20ã€‚</li>
      </ul>
      <div class="concept-box"><b>METs:</b><br>1-2: åƒé£¯ç©¿è¡£<br>3-4: å¹³åœ°è¡Œèµ°<br>5-6: æ…¢è·‘æ€§è¡Œç‚º</div>
    `
  },

  // --- å°å…’ ---
  {
    id: 'peds-dev', cat: 'peds', title: 'å…’ç«¥ç™¼å±•é‡Œç¨‹ç¢‘', tags: ['Milestone'],
    content: `
      <div class="exam-tip">å£è¨£ï¼šé ­ -> é ¸ -> è»€å¹¹ -> å››è‚¢</div>
      <table><tr><th>æœˆé½¡</th><th>èƒ½åŠ›</th></tr><tr><td>4m</td><td>ç¿»èº« (Roll)</td></tr><tr><td>6m</td><td>ç¨ç«‹å (Sit)</td></tr><tr><td>8m</td><td>è…¹çˆ¬</td></tr><tr><td>10m</td><td>å››é»çˆ¬ (Creep)</td></tr><tr><td>12m</td><td>æ”¾æ‰‹èµ°</td></tr></table>
    `
  },
  {
    id: 'peds-cp', cat: 'peds', title: 'è…¦æ€§éº»ç—º GMFCS', tags: ['CP', 'åˆ†ç´š'],
    content: `
      <div class="section-title">GMFCS (6-12æ­²)</div>
      <ul>
        <li><b>L1:</b> è·‘è·³è‡ªå¦‚ã€‚</li>
        <li><b>L2:</b> èµ°æ¨“æ¢¯éœ€æ‰¶æ‰‹ï¼Œæˆ¶å¤–éœ€è¼”å…·ã€‚</li>
        <li><b>L3:</b> å®¤å…§éœ€åŠ©è¡Œå™¨ï¼Œæˆ¶å¤–è¼ªæ¤…ã€‚</li>
        <li><b>L4:</b> å¤§å¤šé è¼ªæ¤… (å¯æ“ä½œ)ã€‚</li>
        <li><b>L5:</b> å®Œå…¨ä¾è³´ã€‚</li>
      </ul>
    `
  },

  // --- é€²éš ---
  {
    id: 'mod-electro', cat: 'modality', title: 'é›»ç™‚åƒæ•¸ TENS', tags: ['æ­¢ç—›'],
    content: `
      <div class="section-title">TENS æ¨¡å¼</div>
      <table><tr><th>æ¨¡å¼</th><th>é »ç‡</th><th>æ©Ÿè½‰</th></tr><tr><td>é«˜é » (Conventional)</td><td>80-120Hz</td><td>Gate Control (å¿«ç”¢å¿«æ¶ˆ)</td></tr><tr><td>ä½é » (Acupuncture)</td><td>1-10Hz</td><td>Opiate (æ…¢ç”¢æ…¢æ¶ˆ)</td></tr></table>
    `
  },
  {
    id: 'at-wheel', cat: 'assistive', title: 'è¼ªæ¤…æ¸¬é‡', tags: ['Fit', 'å£“ç˜¡'],
    content: `
      <div class="red-flag">é‡éŒ¯å¾Œæœï¼šå£“ç˜¡ã€ç¥ç¶“å£“è¿«ã€‚</div>
      <p><b>å¯¬åº¦:</b> è‡€å¯¬ + 2å‹ã€‚<br><b>æ·±åº¦:</b> è‡€å¾Œè‡³è†•çª© - 2å‹ã€‚<br><b>æ‰¶æ‰‹é«˜:</b> è‚˜å±ˆ90 + 1å‹ã€‚</p>
    `
  },
  {
    id: 'bio-gait', cat: 'biomech', title: 'ç•°å¸¸æ­¥æ…‹åˆ†æ', tags: ['Gait'],
    content: `
      <div class="section-title">å¸¸è¦‹ç•°å¸¸</div>
      <ul>
        <li><b>Trendelenburg:</b> è‡€ä¸­è‚Œç„¡åŠ›ï¼Œéª¨ç›†æ‰å‘å¥å´ã€‚</li>
        <li><b>Gluteus Maximus:</b> è…³è·Ÿè‘—åœ°å¾Œä»° (Rocking horse)ã€‚</li>
        <li><b>Steppage:</b> å‚è¶³ (Drop foot)ã€‚</li>
      </ul>
    `
  }
];

// ============================================
//   é‚è¼¯æ§åˆ¶ (Logic)
// ============================================
const mainArea = document.getElementById('mainContent');
const sidebar = document.getElementById('sidebar');
const menuOverlay = document.querySelector('.menu-overlay');

const categories = {
  ortho: { name: 'éª¨ç§‘ç‰©ç†æ²»ç™‚', color: 'var(--ortho)', icon: 'ğŸ¦´' },
  neuro: { name: 'ç¥ç¶“ç‰©ç†æ²»ç™‚', color: 'var(--neuro)', icon: 'ğŸ§ ' },
  cardio: { name: 'å¿ƒè‚ºç‰©ç†æ²»ç™‚', color: 'var(--cardio)', icon: 'ğŸ«€' },
  peds: { name: 'å°å…’ç‰©ç†æ²»ç™‚', color: 'var(--peds)', icon: 'ğŸ‘¶' },
  modality: { name: 'ç‰©ç†å› å­èˆ‡å„€å™¨', color: 'var(--modality)', icon: 'âš¡' },
  assistive: { name: 'è¼”å…·èˆ‡ç§‘æŠ€', color: 'var(--assistive)', icon: 'ğŸ¦½' },
  biomech: { name: 'ç”Ÿç‰©åŠ›å­¸', color: 'var(--biomech)', icon: 'ğŸš¶' }
};

function renderHome() {
  mainArea.innerHTML = `
    <div class="home-container">
      <div class="hero-title">PT åœ‹è€ƒå…¨æ”»ç•¥è³‡æ–™åº«</div>
      <div style="font-size:14px; font-weight:700; color:#94a3b8; margin-bottom:12px;">å››å¤§ä¸»ç§‘</div>
      <div class="grid-main">
        ${createCard('ortho')} ${createCard('neuro')}
        ${createCard('cardio')} ${createCard('peds')}
      </div>
      <div style="font-size:14px; font-weight:700; color:#94a3b8; margin-bottom:12px;">é€²éšç§‘ç›®</div>
      <div class="grid-sub">
        ${createCard('modality', true)} ${createCard('assistive', true)} ${createCard('biomech', true)}
      </div>
    </div>
  `;
  closeSidebar();
}

function createCard(key, isSub = false) {
  const c = categories[key];
  if(isSub) return `<div class="subject-card" onclick="renderCategory('${key}')" style="border-top:4px solid ${c.color}; padding:16px;"><div style="font-size:24px;">${c.icon}</div><div style="font-weight:700; margin-top:8px; font-size:15px; color:#334155;">${c.name.split(' ')[0]}</div></div>`;
  return `<div class="subject-card" onclick="renderCategory('${key}')" style="border-top:5px solid ${c.color}"><div class="icon-box" style="background:${c.color}">${c.icon}</div><div class="subj-title" style="color:${c.color}">${c.name.split(' ')[0]}</div><div class="subj-desc">${c.name.split(' ')[1]||''}</div></div>`;
}

function renderCategory(catKey) {
  const c = categories[catKey];
  const items = database.filter(d => d.cat === catKey);
  const gridHtml = items.length ? items.map(d => `
    <div class="topic-btn" onclick="renderContent('${d.id}')">
      <div><div class="topic-title">${d.title}</div><div class="topic-tags">${d.tags.join(' â€¢ ')}</div></div>
      <div style="color:#cbd5e1">â”</div>
    </div>`).join('') : `<div style="text-align:center;color:#94a3b8;padding:40px;">è³‡æ–™æ“´å……ä¸­...</div>`;
  
  mainArea.innerHTML = `
    <div class="cat-header"><button class="back-btn" onclick="renderHome()">â† å›é¦–é </button><h2 style="margin:0;color:${c.color};font-size:20px;">${c.icon} ${c.name}</h2></div>
    <div class="topic-grid">${gridHtml}</div>`;
  closeSidebar();
}

function renderContent(id) {
  const d = database.find(x => x.id === id);
  const c = categories[d.cat];
  mainArea.innerHTML = `
    <div class="cat-header"><button class="back-btn" onclick="renderCategory('${d.cat}')">â† å›åˆ—è¡¨</button></div>
    <div class="detail-view">
      <h1 class="detail-title">${d.title}</h1>
      <div style="margin-bottom:24px;">${d.tags.map(t=>`<span class="badge" style="background:${c.color}">${t}</span>`).join('')}</div>
      <div>${d.content}</div>
    </div>`;
}

function toggleSidebar(){ sidebar.classList.toggle('open'); menuOverlay.style.display=sidebar.classList.contains('open')?'block':'none'; }
function closeSidebar(){ sidebar.classList.remove('open'); menuOverlay.style.display='none'; }

// Init
renderHome();
</script>
</body>
</html>
